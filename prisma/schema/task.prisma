// Task and TaskAssignment models

model Task {
  id          String     @id @default(uuid())
  title       String
  description String?
  status      TaskStatus @default(TODO)
  projectId   String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  project     Project          @relation(fields: [projectId], references: [id])
  assignments TaskAssignment[]

  @@index([projectId])
  @@map("tasks")
}

model TaskAssignment {
  id         String   @id @default(uuid())
  taskId     String
  userId     String
  assignedAt DateTime @default(now())

  // Relations
  task Task @relation(fields: [taskId], references: [id])
  user User @relation(fields: [userId], references: [id])

  @@unique([taskId, userId])
  @@map("task_assignments")
}
